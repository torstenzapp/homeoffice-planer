<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeOffice-Planer DRV Saarland</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-card">
                <div class="logo-placeholder">
                    <h1>HomeOffice-Planer</h1>
                    <p>DRV Saarland</p>
                </div>
                
                <!-- Role Selection -->
                <div class="role-selection" id="roleSelection">
                    <h3>Anmeldung als:</h3>
                    <div class="role-buttons">
                        <button type="button" class="btn btn--outline btn--full-width" id="colleagueRoleBtn">
                            üë§ Kollege
                        </button>
                        <button type="button" class="btn btn--primary btn--full-width" id="teamleaderRoleBtn">
                            üë®‚Äçüíº Teamleiter
                        </button>
                        <button type="button" class="btn btn--secondary btn--full-width" id="newColleagueRoleBtn">
                            ‚ûï Neuer Kollege
                        </button>
                    </div>
                </div>
                
                <!-- Colleague Login Form -->
                <form class="login-form hidden" id="colleagueLoginForm">
                    <button type="button" class="back-btn" id="backFromColleagueLogin">‚Üê Zur√ºck</button>
                    <h3>Kollege Anmeldung</h3>
                    <div class="form-group">
                        <label for="colleagueUsername" class="form-label">Name</label>
                        <select id="colleagueUsername" class="form-control" required>
                            <option value="">Name ausw√§hlen</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="colleaguePassword" class="form-label">Passwort</label>
                        <input type="password" id="colleaguePassword" class="form-control" required autocomplete="current-password">
                    </div>
                    <div class="login-actions">
                        <button type="submit" class="btn btn--primary btn--full-width">Anmelden</button>
                    </div>
                </form>
                
                <!-- Team Leader Login Form -->
                <form class="login-form hidden" id="teamleaderLoginForm">
                    <button type="button" class="back-btn" id="backFromTeamleaderLogin">‚Üê Zur√ºck</button>
                    <h3>Teamleiter Anmeldung</h3>
                    <div class="form-group">
                        <label for="teamleaderPassword" class="form-label">Teamleiter-Passwort</label>
                        <input type="password" id="teamleaderPassword" class="form-control" required autocomplete="current-password">
                    </div>
                    <div class="login-actions">
                        <button type="submit" class="btn btn--primary btn--full-width">Anmelden</button>
                    </div>
                </form>
                
                <!-- New Colleague Registration Form -->
                <form class="login-form hidden" id="newColleagueForm">
                    <button type="button" class="back-btn" id="backFromNewColleague">‚Üê Zur√ºck</button>
                    <h3>Neuen Kollegen registrieren</h3>
                    <div class="form-group">
                        <label for="newColleagueName" class="form-label">Name</label>
                        <input type="text" id="newColleagueName" class="form-control" placeholder="Namen eingeben" required>
                    </div>
                    <div class="form-group">
                        <label for="newColleaguePassword" class="form-label">Passwort</label>
                        <input type="password" id="newColleaguePassword" class="form-control" placeholder="Passwort eingeben" required>
                    </div>
                    <div class="form-group">
                        <label for="newColleagueConfirm" class="form-label">Passwort best√§tigen</label>
                        <input type="password" id="newColleagueConfirm" class="form-control" placeholder="Passwort best√§tigen" required>
                    </div>
                    <div class="login-actions">
                        <button type="submit" class="btn btn--primary btn--full-width">Registrieren</button>
                    </div>
                </form>
                
                <div class="demo-info">
                    <p style="font-size: var(--font-size-sm); color: var(--color-text-secondary); text-align: center; margin-top: var(--space-16);">
                        Demo: Kollegen (Torsten, Anna, Michael, Sarah, Thomas) - Passwort: "password123"<br>
                        Teamleiter-Passwort: "teamleiter123"
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Footer for Login Screen -->
        <footer class="login-footer">
            <div class="footer-content">
                <span class="footer-text">Design by Torsten Zapp 2025</span>
            </div>
        </footer>
    </div>

    <!-- Main Application -->
    <div class="app-container hidden" id="appContainer">
        <div class="container">
            <!-- Header -->
            <header class="header">
                <div class="header__content">
                    <h1>HomeOffice-Planer DRV Saarland</h1>
                    <div class="header__nav">
                        <div class="user-info">
                            <span id="currentUserName"></span>
                            <span class="user-role" id="userRole"></span>
                            <button class="btn btn--outline btn--sm" id="logoutBtn">Abmelden</button>
                        </div>
                        <div class="month-nav">
                            <button class="btn btn--outline" id="prevMonth">‚Äπ</button>
                            <span class="current-month" id="currentMonth"></span>
                            <button class="btn btn--outline" id="nextMonth">‚Ä∫</button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Colleague Dashboard (Personal View) -->
            <section class="dashboard" id="personalDashboard">
                <div class="card">
                    <div class="card__body">
                        <div class="dashboard-header">
                            <h3>Mein Dashboard</h3>
                            <div class="quota-selector">
                                <label for="quotaSelect" class="form-label">HomeOffice-Quote</label>
                                <select id="quotaSelect" class="form-control">
                                    <option value="40">40%</option>
                                    <option value="60">60%</option>
                                </select>
                            </div>
                        </div>
                        <div class="dashboard__stats">
                            <div class="stat-card">
                                <h4>HomeOffice-Quote</h4>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                                <div class="stat-info">
                                    <span id="homeofficePercent">0%</span>
                                    <span class="stat-target" id="statTarget">Ziel: ‚â§ 40%</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <h4>Monat √úbersicht</h4>
                                <div class="month-stats" id="monthStats">
                                    <div>Arbeitstage: <span id="workDays">0</span></div>
                                    <div>HomeOffice: <span id="homeOfficeDays">0</span></div>
                                    <div>B√ºro: <span id="officeDays">0</span></div>
                                    <div>Urlaub: <span id="vacationDays">0</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="warning-message" id="warningMessage" style="display: none;">
                            <strong>‚ö†Ô∏è Warnung:</strong> Die HomeOffice-Quote wird √ºberschritten!
                        </div>
                    </div>
                </div>
            </section>

            <!-- Team Leader Dashboard -->
            <section class="dashboard hidden" id="teamleaderDashboard">
                <div class="card">
                    <div class="card__body">
                        <div class="dashboard-header">
                            <h3>Teamleiter Dashboard</h3>
                            <div class="teamleader-filter">
                                <label for="teamleaderFilter" class="form-label">Filter</label>
                                <select id="teamleaderFilter" class="form-control">
                                    <option value="all">Alle</option>
                                    <option value="violations">√úberschreitungen</option>
                                    <option value="quota40">Quote 40%</option>
                                    <option value="quota60">Quote 60%</option>
                                </select>
                            </div>
                        </div>
                        <div class="team-leader-stats" id="teamleaderStats">
                            <!-- Team statistics will be rendered here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Controls -->
            <section class="controls">
                <div class="card">
                    <div class="card__body">
                        <div class="control-buttons">
                            <button class="btn btn--outline" id="teamViewBtn">Team-√úbersicht</button>
                            <button class="btn btn--outline hidden" id="personalViewBtn">Mein Dashboard</button>
                            <button class="btn btn--outline hidden" id="teamleaderViewBtn">Team-Dashboard</button>
                            <button class="btn btn--secondary hidden" id="changePasswordBtn">Passwort √§ndern</button>
                            <button class="btn btn--outline hidden" id="deleteAccountBtn">Eigenes Konto l√∂schen</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Status Legende -->
            <section class="legend">
                <div class="card">
                    <div class="card__body">
                        <h4>Status Legende</h4>
                        <div class="legend__items">
                            <div class="legend__item">
                                <span class="legend__color" style="background-color: #FF8C00;"></span>
                                <span>üè† Home-Office</span>
                            </div>
                            <div class="legend__item">
                                <span class="legend__color" style="background-color: #4169E1;"></span>
                                <span>üè¢ B√ºro</span>
                            </div>
                            <div class="legend__item">
                                <span class="legend__color" style="background-color: #32CD32;"></span>
                                <span>üèñÔ∏è Urlaub</span>
                            </div>
                            <div class="legend__item">
                                <span class="legend__color" style="background-color: #808080;"></span>
                                <span>‚è∞ AZ</span>
                            </div>
                            <div class="legend__item">
                                <span class="legend__color" style="background-color: #FF0000;"></span>
                                <span>üéÑ Feiertag</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Kalender -->
            <section class="calendar-section">
                <div class="card">
                    <div class="card__body">
                        <div class="calendar" id="calendar">
                            <div class="calendar__grid">
                                <div class="calendar__day-header">Mo</div>
                                <div class="calendar__day-header">Di</div>
                                <div class="calendar__day-header">Mi</div>
                                <div class="calendar__day-header">Do</div>
                                <div class="calendar__day-header">Fr</div>
                                <div class="calendar__day-header">Sa</div>
                                <div class="calendar__day-header">So</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Team Ansicht -->
            <section class="team-view hidden" id="teamView">
                <div class="card">
                    <div class="card__body">
                        <div class="team-header">
                            <h3>Team-√úbersicht</h3>
                            <button class="btn btn--outline" id="backFromTeamView">Zur√ºck</button>
                        </div>
                        <div class="team-grid" id="teamGrid">
                            <!-- Team members will be rendered here -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer for Main App -->
        <footer class="app-footer">
            <div class="container">
                <div class="footer-content">
                    <span class="footer-text">Design by Torsten Zapp 2025</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal f√ºr Status Auswahl -->
    <div class="modal hidden" id="statusModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <h3>Status f√ºr <span id="statusModalDate"></span></h3>
            <div class="status-options">
                <button class="status-btn" data-status="homeoffice" type="button">
                    <span class="status-symbol">üè†</span>
                    <span>Home-Office</span>
                </button>
                <button class="status-btn" data-status="buero" type="button">
                    <span class="status-symbol">üè¢</span>
                    <span>B√ºro</span>
                </button>
                <button class="status-btn" data-status="urlaub" type="button">
                    <span class="status-symbol">üèñÔ∏è</span>
                    <span>Urlaub</span>
                </button>
                <button class="status-btn" data-status="az" type="button">
                    <span class="status-symbol">‚è∞</span>
                    <span>AZ</span>
                </button>
                <button class="status-btn" data-status="clear" type="button">
                    <span class="status-symbol">‚ùå</span>
                    <span>L√∂schen</span>
                </button>
            </div>
            <div class="modal__actions">
                <button class="btn btn--secondary" id="cancelStatusChange" type="button">Abbrechen</button>
            </div>
        </div>
    </div>

    <!-- Modal f√ºr Passwort √§ndern -->
    <div class="modal hidden" id="changePasswordModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <h3>Passwort √§ndern</h3>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label for="oldPassword" class="form-label">Altes Passwort</label>
                    <input type="password" id="oldPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="newPassword" class="form-label">Neues Passwort</label>
                    <input type="password" id="newPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword" class="form-label">Neues Passwort best√§tigen</label>
                    <input type="password" id="confirmNewPassword" class="form-control" required>
                </div>
                <div class="modal__actions">
                    <button type="button" class="btn btn--secondary" id="cancelPasswordChange">Abbrechen</button>
                    <button type="submit" class="btn btn--primary">Passwort √§ndern</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal f√ºr Konto l√∂schen Best√§tigung -->
    <div class="modal hidden" id="deleteAccountModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <h3>Konto l√∂schen</h3>
            <p>Sind Sie sicher, dass Sie Ihr Konto l√∂schen m√∂chten?</p>
            <p><strong>Warnung:</strong> Alle Ihre Planungsdaten werden unwiderruflich gel√∂scht!</p>
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelDeleteAccount">Abbrechen</button>
                <button type="button" class="btn btn--danger" id="confirmDeleteAccount">Konto l√∂schen</button>
            </div>
        </div>
    </div>

    <!-- Modal f√ºr Kollegen Details (Teamleiter) -->
    <div class="modal hidden" id="colleagueDetailModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <h3 id="colleagueDetailName">Kollege Details</h3>
            <div id="colleagueDetailStats"></div>
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelColleagueDetail">Schlie√üen</button>
                <button type="button" class="btn btn--warning" id="resetColleaguePassword">Passwort zur√ºcksetzen</button>
                <button type="button" class="btn btn--danger" id="deleteColleague">Kollegen l√∂schen</button>
            </div>
        </div>
    </div>

    <!-- Modal f√ºr Kollegen l√∂schen Best√§tigung (Teamleiter) -->
    <div class="modal hidden" id="deleteColleagueModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <h3>Kollegen l√∂schen</h3>
            <p>Sind Sie sicher, dass Sie den Kollegen <strong id="deleteColleagueName"></strong> l√∂schen m√∂chten?</p>
            <p><strong>Warnung:</strong> Alle Planungsdaten des Kollegen werden unwiderruflich gel√∂scht!</p>
            <div class="modal__actions">
                <button type="button" class="btn btn--secondary" id="cancelDeleteColleague">Abbrechen</button>
                <button type="button" class="btn btn--danger" id="confirmDeleteColleague">Kollegen l√∂schen</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>